<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Visualizing Routes</title>
<meta name="editor" content="vim and/or bbedit" />
<meta name="Author" content="Michael Conrad Tadpol Tilstra" />
<meta name="Content-Language" content="en-US" />
<meta content="text/html; charset=utf-8" http-equiv="content-type" />
<meta name="created" content="2008-12-14T09:04:19-06:00" />
<meta name="keywords" content="tadpol, writing, stories, fiction, recipies, food" />
<link href="../images/tadpol.ico" rel="icon" type="image/ico" />
<link href="../images/tadpol_icon_57.png" rel="apple-touch-icon" type="image/png" />

<link href="../s/thickbox.css" rel="Stylesheet" media="screen" type="text/css" />
<link href="../tadpol.css" rel="Stylesheet" media="screen" type="text/css" />
<link href="../print.css" rel="Stylesheet" media="print" type="text/css" />
<link href="http://tadpol.org/feed.atom" title="ATOM" rel="alternate" type="application/atom+xml" />

<script src="../jquery-1.1.pack.js" type="text/javascript"></script>
<script src="../s/thickbox-compressed.js" type="text/javascript"></script>
</head>

<body>
<div id="header">
<h1>Visualizing Routes</h1>
</div>
<div id="corner">
<a href="../index.html"><img src="../images/tadpollogo.png" alt="Tadpol Logo" /></a>
</div>

<div id="content">
<p>I hit a curious question for myself one day while driving to work.  It seemed that no matter what time I left home, I got to work at nearly the same time.  The idea being that traffic was such that it somehow normalized my arrival time.  This puzzled me for a bit before I decided that the best way to deal with this quandary, was to test it.  Easily done since I have a little GPS unit.</p>

<p>Armed with my <a href="http://www.garmin.com">Garmin</a>, I logged five weeks of driving to work.  This gave me a pile of data, so now what.  I played with a few tools, <a href="http://earth.google.com">Google Earth</a> and the like, but none of these gave the information I wanted. Those that came close, wouldn&#8217;t present multiple data points in any way readable.  Yeah for me; I get to write a tool.</p>

<p>I chose <a href="http://tcl.tk">TCL/TK</a> this time. (<small><a href="http://www.equi4.com/tclkit/">tclkit</a> to be precise.</small>) Partly because I have been finding it to be one of the cleaner cross-platfrom languages. Partly because of <a href="http://www.equi4.com/tclkit/">Tclkit</a>.  And mostly because you can use it without installing it.  Download the interpreter and go.  If you need some extensions, make a lib directory, drop them in there and append the auto_path.  That&#8217;s all; a significantly easier process that most other languages. (<small>well, <a href="http://lua.org">Lua</a> goes nearly as well, but doesn&#8217;t seem to have a good gui kit yet.</small>)  All that and I like the BSD license.</p>

<p>Anyways, I knew that the most important bit on information I wanted gleaned from my data was the start and finish times.  Anything else would just be neatness.  First I had to get the data out, quite easy to do with <a href="http://www.tdom.org">tdom</a>, so no worries there.  Then what to do with the data?  A bit of poking and I decided that using a tabular view would be best.  (<small>Which brought wonderings on how spreadsheets would handle XML data, but I didn&#8217;t feel like investigating that.</small>)  So a bunch more poking, and I found <a href="http://www.nemethi.de/">tablelist</a>, which turned out be be an awesome find.  </p>

<p>The basic start stop time was right in the time stamps, so that was easy.  So I had to add a bit more info.  I wanted distance and speed.  Speed would fall into place once I had distance, so easy there.  Now getting the distance, in miles, from latitude and longitude data seemed like it was going to be a lot more difficult.  Turns out to be quite simple, you use the <a href="http://en.wikipedia.org/wiki/Haversine_formula">Haversine Formula</a>.  So now I had the information I wanted out of my data.</p>

<p>This was too easy.  So I added a very basic plot that was colored by speed, just because I could.  I thought about tying a image of the roads into the plot, but I never really got around to it.  As far as my original question, well, I&#8217;m not sure.  The current data sample is inconclusive.  I could find no collations between when I left, how long it took me, and when I arrived.</p>

<p>But I had fun playing with the data and building this tool, so it was a net gain.</p>

<p><a href="../images/routeMapViewerWXP.png" class="thickbox" rel="projectsVisualizing_Routeshtml"><img src="../images/routeMapViewerWXPs.png" height="101" width="135" /></a><br />
(<small>I also was too lazy to compile <a href="http://www.tdom.org">tdom</a> for MacOSX, and just ran XP inside of <a href="http://www.virtualbox.org">VirtualBox</a>. Just in case you&#8217;re wonding about the screenshot here.</small>)</p>

<p>Silly me forgot to put this up first time around, but <a href="http://tadpol.org/projects/archives/routeMap.tcl.zip">here is the code</a>.</p>
</div>

<div id="sidebar">
	<ul>
	  <li><a href="../bog/index.html">Blog</a>&nbsp;&nbsp;&nbsp;<small><a href="../bog/archive.html">[all]</a></small></li>
	  <li><a href="../stories/index.html">Stories</a></li>
	  <li><a href="../recipes/index.html">Recipes</a></li>
	  <li><a href="index.html">Projects</a></li>
	  <li><a href="../Links/index.html">Link Farm</a></li>
	  <li><a href="../vacation/index.html">Vacations</a></li>
	  <li><a href="../contact.html">Contact</a></li>
	</ul>
</div>

<div id="footer">
<div id="wit">If you can shape it in your mind,<br />
you will find it in your life.</div>
Copyright &copy;2008 by Michael Conrad Tadpol Tilstra.
All rights reserved.
<br />
Check: 
<a href="http://validator.w3.org/check/referer">html</a>
<a href="http://jigsaw.w3.org/css-validator/check/referer">css</a>
<!-- <a href="http://feedvalidator.org/check?url=http://tadpol.org/feed.rss">rss</a> -->
</div>

</body>
</html>
