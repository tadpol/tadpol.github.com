<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Mapping Includes</title>
<meta name="editor" content="vim and/or bbedit" />
<meta name="Author" content="Michael Conrad Tadpol Tilstra" />
<meta name="Content-Language" content="en-US" />
<meta content="text/html; charset=utf-8" http-equiv="content-type" />
<meta name="created" content="2006-02-01T16:10:00-06:00" />
<meta name="keywords" content="tadpol, writing, stories, fiction, recipies, food" />
<link href="../images/tadpol.ico" rel="icon" type="image/ico" />

<link href="../s/thickbox.css" rel="Stylesheet" media="screen" type="text/css" />
<link href="../tadpol.css" rel="Stylesheet" media="screen" type="text/css" />
<!--[if IE]>
<link href="/iekludging.css" media="screen" rel="Stylesheet" type="text/css" />
<![endif]-->
<link href="../print.css" rel="Stylesheet" media="print" type="text/css" />
<link href="http://tadpol.org/feed.atom" title="ATOM" rel="alternate" type="application/atom+xml" />

<script src="../jquery-1.1.pack.js" type="text/javascript"></script>
<script src="../s/thickbox-compressed.js" type="text/javascript"></script>
</head>

<body>
<div id="header">
<h1>Mapping Includes</h1>
</div>
<div id="corner">
<a href="../index.html"><img src="../images/tadpollogo.png" alt="Tadpol Logo" /></a>
</div>

<div id="content">

<p>I was off building up a diagram in OmniGraffle that mapped the include
dependency of a project I&#8217;m working on.  And it didn&#8217;t take to long for
me to wonder why I was doing this by hand.  OmniGraffle already has a
nice importer for when you are working on Obj-C files, but this project
is plain C.  So I pulled something together quick, its not the prettiest
bits of ruby you&#8217;ll see.  But it will take a bunch of <code>.c</code> or <code>.h</code>
files, and dump out a <code>.dot</code>, which you can then open with OmniGraffle.</p>

<p>By default, it ignores system includes (<small>Files included with
&lt;></small>), ignores file extensions and grabs all of the <code>.[ch]</code> files
in the current directory.  I have it ignore extensions because what I
want to see is the high level conceptual &#8220;this block of code needs that
block of code&#8221; instead of exactly which file has which file.  You can
also specify which included files it should ignore or not ignore.  Files
that were specified get circles, others get boxes, giving a nice visual
cue on where that file is.</p>

<p>Calling <code>mapincludes.rb -I event -s sfx</code> on my current project creates a
dot that OmniGraffle turns into: 
<img src="images/takamap.png" border="0" height="356" alt="takamap.png" align="" width="476" /></p>

<p>Which you can then do some cleanup work on. (<small>Cuz as you can see,
it needs it.</small>)</p>

<p><a href="archives/mapincludes.zip">Download</a></p>
</div>

<div id="sidebar">
	<ul>
	  <li><a href="../bog/index.html">Blog</a>&nbsp;&nbsp;&nbsp;<small><a href="../bog/archive.html">[all]</a></small></li>
	  <li><a href="../stories/index.html">Stories</a></li>
	  <li><a href="../recipes/index.html">Recipes</a></li>
	  <li><a href="index.html">Projects</a></li>
	  <li><a href="../Links/index.html">Link Farm</a></li>
	  <li><a href="../vacation/index.html">Vacations</a></li>
	  <li><a href="../contact.html">Contact</a></li>
	</ul>
</div>

<div id="footer">
<div id="wit">If you can shape it in your mind,<br />
you will find it in your life.</div>
Copyright &copy;2006-2008 by Michael Conrad Tadpol Tilstra.
All rights reserved.
<br />
Check: 
<a href="http://validator.w3.org/check/referer">html</a>
<a href="http://jigsaw.w3.org/css-validator/check/referer">css</a>
<!-- <a href="http://feedvalidator.org/check?url=http://tadpol.org/feed.rss">rss</a> -->
</div>

</body>
</html>
